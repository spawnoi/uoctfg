@(userForm: Form[SearchJob], menu: Html, jobs: List[JobOffer])

@import helper._

@implicitFieldConstructor = @{ FieldConstructor(twitterBootstrapInput.render) } 


@main("Search Jobs", menu) {

<ul class="breadcrumb">
  <li><a href="#">Candidate Area</a> <span class="divider">/</span></li>
  <li class="active">Search jobs</li>
</ul>

	<div class="row-fluid">
    
    <div class="span2">
	    <ul class="nav nav-list">
		  <li class="nav-header">Options</li>
		  <li><a href=@routes.Candidate.index()>Applied jobs</a></li>
		  <li class="active"><a href=@routes.Candidate.prepareSearchJob()>Search Jobs</a></li>
		</ul>
	</div>
	
	<div class="span10">
	<div class="well well-small">
	
	@form(routes.Candidate.searchJob()) {
        
        <fieldset>
            <legend>Search jobs</legend>
            
            <div class="span3">
            @inputText(userForm("title"), '_label -> "Title")
            @select(
		                userForm("province.id"), 
		                options(Province.options), 
		                '_label -> "Province", '_default -> "-- Choose a province --",
		                '_showConstraints -> false
		             )
		    
            </div>
            <div class="span3">
             @select(
	                userForm("sector.id"), 
	                options(Sector.options), 
	                '_label -> "Sector", '_default -> "-- Choose a sector --",
	                '_showConstraints -> false
	            )
			@inputText(userForm("emplacement"), '_label -> "emplacement desc.")
			
            </div>
            <div class="span3">
            @select(
	                userForm("duration.id"), 
	                options(Duration.options), 
	                '_label -> "Duration", '_default -> "-- Choose a duration --",
	                '_showConstraints -> false
	             )
            @select(
		                userForm("work_type.id"), 
		                options(WorkType.options), 
		                '_label -> "Work Type", '_default -> "-- Choose a work type --",
		                '_showConstraints -> false
		             )
	           
	            
            </div>
                
            <br/>
            <div class="span1">
                <div class="actions">
                    <input type="submit" value="Search" class="btn">
                </div>
            </div>

		    </fieldset>
        
    }
   
    </div>
    </div>
    
    <div class="row-fluid">
    	<div class="span2">
    	</div>
    	<div class="span10 scrolling-table">
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>Inscription date</th>
                    <th>Job details</th>
                    <th>Options</th>
                </tr>
            </thead>
            <tbody>
                @if(jobs.size() == 0 || jobs == null) {
                    <tr>
                        <td>No Jobs to show</td>
                        <td></td>
                    </tr>
                }
                @for(job <- jobs) {
                    <tr>
                        <td class="cover">
                            "Inscription date"
                        </td>
                        <td>
                            @if(job.inscribed != null) {
                                <span class="label pull-left label-success">@job.inscribed.size Inscribed!</span>
                            } else {
                                <span class="label pull-left label-warning">0 inscribed</span>
                            }
                            <dl class="dl-horizontal">
                                <dt>Title</dt>
                                <dd>@job.title</dd>
                                <dt>Description</dt>
                                <dd>@job.description</dd>
                                <dt>Vacants</dt>
                                <dd>@job.numVacants</dd>
                                <dt>Duration</dt>
                                <dd>@job.duration</dd>
                                <dt>Work type</dt>
                                <dd>@job.workType</dd>
                              
                            </dl>
                        </td>
                        <td>
                        	<div class="btn-group">
                        	  <a href=@routes.Candidate.viewJob(job.id) class="btn pull-right btn-info">View details</a>
							  <a href=@routes.Application.newUser() class="btn pull-right btn-info">Unsbscribe</a>
							</div>
                        </td>
                     
                    </tr>
                }
            </tbody>
        </table>
    </div>
    </div>
    
    
    </div>
    
}